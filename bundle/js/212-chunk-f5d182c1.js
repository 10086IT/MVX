"use strict";(self.webpackChunkusersores=self.webpackChunkusersores||[]).push([[212],{46212:function(n,e,a){a.r(e),a.d(e,{default:function(){return l}});var t=a(29439),o=a(67294),s=a(8573),c=a(46020),i=a.n(c),d=a(36112),l=function(){var n=o.useState(""),e=(0,t.Z)(n,2),a=e[0],c=e[1];return o.createElement("div",null,o.createElement("img",{width:"100%",src:a}),o.createElement(d.v5,null,"# html2canvas\n\n## ios\n- 尺寸大小缩放问题\n- 背景透明问题\n- 截取图片 canvas 转base64 只有data；\nios: canvas 3510 * 5574\nstyle: 1170 1858\nfail： 截图dom宽高不能设为百分比\n\n\n## android\nandroid : canvas 1083* 1864\nstyle: 394*678\nsucess\n\n## 解决方案\n> 塞一个对象进去保证canvas和dom同大小\n\n```javascript\n canvas.width = dom.offsetWidth;\n  canvas.height = dom.offsetHeight;\n  canvas.className = dom.className;\n  FoToast.show({ icon: 'loading', content: '正在截屏...',  duration: 0, maskClickable: false  });\n  html2canvas(dom || document.body, {canvas, backgroundColor: '#E8EDF2', width: dom.offsetWidth, height: dom.offsetHeight, x: 0, y: 0, scale: 1}).then(function(canvas) {\n    imgUrl = canvas.toDataURL();\n    })\n    \n```\n"),o.createElement(s.Z,{type:"primary",size:"large",onClick:function(){var n=document.getElementById("root");window.addEventListener("hashchange",(function(){console.log(window)})),i()(document.body).then((function(n){c(n.toDataURL())})),console.log(n)}},"截屏"))}}}]);